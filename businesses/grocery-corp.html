<!DOCTYPE html><html lang="ru"><head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1">
<title>–ö—Ä—É–ø–Ω–∞—è —Å–µ—Ç—å ‚Äî INFINITY Empire</title>
<!-- —Å—Ç–∏–ª–∏ –∏–¥–µ–Ω—Ç–∏—á–Ω—ã –ø—Ä–µ–¥—ã–¥—É—â–∏–º —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º, –æ–ø—É—â–µ–Ω—ã –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ —Ä–∞–¥–∏ –∫—Ä–∞—Ç–∫–æ—Å—Ç–∏ -->
<style>
:root{--accent:#00e0c6;--glass:rgba(255,255,255,.15)}
html,body{margin:0;height:100%;font-family:'Inter',system-ui,Arial,sans-serif;background:linear-gradient(180deg,#20C6B8 0%,#1A2C5B 100%);color:#fff}
.top-info{position:fixed;top:16px;left:50%;transform:translateX(-50%);display:flex;gap:8px;flex-wrap:wrap;z-index:1000}
.info-box{background:var(--glass);border:1px solid rgba(255,255,255,.25);backdrop-filter: blur(10px);border-radius:20px;padding:10px 16px;font-weight:800}
.wrap{padding:120px 14px 110px;max-width:760px;margin:0 auto}
.title-row{display:flex;align-items:center;justify-content:center;gap:10px;margin-bottom:12px}
.title{font-size:22px;font-weight:900}
.gear{width:26px;height:26px;cursor:pointer;filter: drop-shadow(0 0 4px rgba(0,0,0,.35))}
.card{background:#fff;color:#111;border-radius:18px;padding:14px 14px 16px;box-shadow:0 10px 28px rgba(0,0,0,.22);max-width:760px;margin:0 auto}
.card h3{margin:0 0 8px;font-size:18px}
.row{display:flex;align-items:center;justify-content:space-between;margin:6px 0}
.muted{color:#555;font-weight:600}.strong{font-weight:900}
.btn{width:100%;margin-top:10px;background:var(--accent);color:#03201b;border:none;border-radius:12px;padding:12px 14px;font-weight:900;cursor:pointer}
.btn:disabled{opacity:.6;cursor:not-allowed}
.hint{font-size:12px;color:#666;margin-top:6px}
.bottom-nav{position:fixed;bottom:0;left:0;right:0;height:70px;background:var(--glass);backdrop-filter: blur(10px);display:flex;justify-content:space-around;align-items:center;z-index:1000}
.nav-item{display:flex;flex-direction:column;align-items:center;text-decoration:none;color:#fff;font-size:12px}
.nav-item img{width:28px;height:28px;margin-bottom:4px}.nav-item.active span{color:var(--accent)}
.modal-back{position:fixed;inset:0;background:rgba(0,0,0,.45);display:none;align-items:center;justify-content:center;z-index:2000}
.modal{width:min(92vw,560px);background:#0b182f;color:#e9f7f5;border-radius:16px;padding:16px;border:1px solid rgba(255,255,255,.18);box-shadow:0 18px 48px rgba(0,0,0,.55)}
.modal h3{margin:0 0 10px;font-size:18px}
.kvs{display:grid;grid-template-columns: 1fr auto;row-gap:8px;column-gap:10px}
.kbd{font-weight:700;opacity:.9}.val{font-weight:900}
.modal-actions{display:flex;gap:10px;margin-top:14px}
.btn-ghost{flex:1;background:transparent;border:1px solid rgba(255,255,255,.25);color:#fff;padding:10px 12px;border-radius:10px;cursor:pointer}
.btn-danger{flex:1;background:#ff3b30;color:#fff;font-weight:900;border:none;border-radius:10px;padding:10px 12px;cursor:pointer}
.danger-note{font-size:12px;color:#ffb4af;margin-top:6px}
</style></head>
<body>
<div class="top-info"><div class="info-box" id="balanceBox">–ë–∞–ª–∞–Ω—Å: 0 ‚ÇΩ</div><div class="info-box" id="incomeBox">üí∞ –î–æ—Ö–æ–¥ –≤ —á–∞—Å: 0 ‚ÇΩ</div></div>
<div class="wrap">
  <div class="title-row"><div class="title" id="title">–ö—Ä—É–ø–Ω–∞—è —Å–µ—Ç—å</div><img class="gear" id="gearBtn" src="../assets/icons/gear.svg" alt="–ù–∞—Å—Ç—Ä–æ–π–∫–∏"></div>
  <div class="card">
    <h3>üè¨ –ö—Ä—É–ø–Ω–∞—è —Å–µ—Ç—å</h3>
    <div class="row"><div class="muted">–£—Ä–æ–≤–µ–Ω—å</div><div class="strong" id="lvl">0</div></div>
    <div class="row"><div class="muted">–î–æ—Ö–æ–¥/—á–∞—Å</div><div class="strong" id="iph">0 ‚ÇΩ/—á</div></div>
    <div class="row"><div class="muted">–¶–µ–Ω–∞ —Å–ª–µ–¥—É—é—â–µ–≥–æ —É—Ä–æ–≤–Ω—è</div><div class="strong" id="cost">‚Äî</div></div>
    <button class="btn" id="btn">–ö—É–ø–∏—Ç—å/–£–ª—É—á—à–∏—Ç—å</button>
    <div class="hint">L1: 9 600 000 ‚ÇΩ; L2: 2 880 000 ‚ÇΩ; –¥–∞–ª–µ–µ √ó1.30 (–∫—Ä–∞—Ç–Ω–æ 1000), –¥–æ—Ö–æ–¥ √ó1.20/—É—Ä. (–º–∞–∫—Å. L10)</div>
  </div>
</div>
<div class="bottom-nav">
  <a href="../fun.html" class="nav-item"><img src="../assets/fun.png"><span>–†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è</span></a>
  <a href="../business.html" class="nav-item active"><img src="../assets/business.png"><span>–ë–∏–∑–Ω–µ—Å—ã</span></a>
  <a href="../index.html" class="nav-item"><img src="../assets/earn.png"><span>–ó–∞—Ä–∞–±–æ—Ç–æ–∫</span></a>
  <a href="../profile.html" class="nav-item"><img src="../assets/profile.png"><span>–ü—Ä–æ—Ñ–∏–ª—å</span></a>
  <a href="../settings.html" class="nav-item"><img src="../assets/settings.png"><span>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</span></a>
</div>

<div class="modal-back" id="modalBack">
  <div class="modal">
    <h3>–ö—Ä—É–ø–Ω–∞—è —Å–µ—Ç—å ‚Äî –∞–Ω–∞–ª–∏—Ç–∏–∫–∞</h3>
    <div class="kvs">
      <div class="kbd">–ò–º—è —Å–µ—Ç–∏</div><div class="val" id="m_name">‚Äî</div>
      <div class="kbd">–ó–∞—Ä–∞–±–æ—Ç–∞–Ω–æ –∑–∞ –≤—Å—ë –≤—Ä–µ–º—è</div><div class="val" id="m_earned">0 ‚ÇΩ</div>
      <div class="kbd">–ö–∞–ø–∏—Ç–∞–ª–∏–∑–∞—Ü–∏—è (–≤–ª–æ–∂–µ–Ω–æ)</div><div class="val" id="m_invested">0 ‚ÇΩ</div>
      <div class="kbd">–¢–µ–∫—É—â–∏–π –¥–æ—Ö–æ–¥ –≤ —á–∞—Å</div><div class="val" id="m_iph">0 ‚ÇΩ/—á</div>
      <div class="kbd">–ü—Ä–æ–≥–Ω–æ–∑ –∑–∞ 1 —á</div><div class="val" id="m_fore1">0 ‚ÇΩ</div>
      <div class="kbd">–ü—Ä–æ–≥–Ω–æ–∑ –∑–∞ 24 —á</div><div class="val" id="m_fore24">0 ‚ÇΩ</div>
      <div class="kbd">–°—Ä–µ–¥–Ω–∏–π ROI</div><div class="val" id="m_roi">‚Äî</div>
    </div>
    <div class="danger-note">¬´–ó–∞–∫—Ä—ã—Ç—å —Å–µ—Ç—å¬ª –≤–µ—Ä–Ω—ë—Ç 30% –∫–∞–ø–∏—Ç–∞–ª–∏–∑–∞—Ü–∏–∏ —ç—Ç–æ–π —Å–µ—Ç–∏ –∏ —Å–±—Ä–æ—Å–∏—Ç –µ—ë —É—Ä–æ–≤–Ω–∏.</div>
    <div class="modal-actions">
      <button class="btn-ghost" id="closeModalBtn">–ó–∞–∫—Ä—ã—Ç—å</button>
      <button class="btn-danger" id="closeNetBtn">–ó–∞–∫—Ä—ã—Ç—å —Å–µ—Ç—å (30%)</button>
    </div>
  </div>
</div>

<script>
const rates={"‚ÇΩ":1,"‚Ç∏":6.5,"$":0.012,"‚Ç¨":0.011}, cur=()=>localStorage.getItem('currency')||'‚ÇΩ';
const fmt=n=>Number(n).toLocaleString('ru-RU'), fmt2=n=>Number(n).toLocaleString('ru-RU',{minimumFractionDigits:2,maximumFractionDigits:2});
const BAL_K='balance_rub', IPH_K='income_per_hour';
const getRub=k=>parseFloat(localStorage.getItem(k)||'0')||0, setRub=(k,v)=>localStorage.setItem(k,String(v));
const getInt=k=>parseInt(localStorage.getItem(k)||'0')||0, setInt=(k,v)=>localStorage.setItem(k,String(v));
const K={ lvl:'biz_grocery_corp_lvl', iph:'biz_grocery_corp_iph', name:'biz_grocery_corp_name', inv:'biz_grocery_corp_invested_rub', earned:'biz_grocery_corp_earned_rub' };
const baseCost=9600000, l2=2880000, costK=1.30, baseIPH=240000, incomeK=1.20, maxL=10;
const round1000=x=>Math.round(x/1000)*1000;
function priceOf(L){ if(L===1)return baseCost; if(L===2)return l2; let p=l2; for(let i=3;i<=L;i++) p=round1000(p*costK); return p; }
function nextPrice(l){ return priceOf(Math.min(l+1,maxL)); }
function iphOf(L){ if(L<=0)return 0; return Math.round(baseIPH*Math.pow(incomeK,L-1)); }
if((getInt(K.lvl)||0)===0){ location.replace('grocery-start.html'); }
function refreshBars(){ const c=cur(); document.getElementById('balanceBox').textContent=`–ë–∞–ª–∞–Ω—Å: ${fmt2(getRub(BAL_K)*rates[c])} ${c}`; document.getElementById('incomeBox').textContent=`üí∞ –î–æ—Ö–æ–¥ –≤ —á–∞—Å: ${fmt2((parseFloat(localStorage.getItem(IPH_K))||0)*rates[c])} ${c}`; }
function refreshCard(){ const l=getInt(K.lvl), iph=iphOf(l), c=cur(); setRub(K.iph,iph); document.getElementById('title').textContent=localStorage.getItem(K.name)||'–ö—Ä—É–ø–Ω–∞—è —Å–µ—Ç—å'; document.getElementById('lvl').textContent=l; document.getElementById('iph').textContent=`${fmt(iph*rates[c])} ${c}/—á`; document.getElementById('cost').textContent=`${fmt(nextPrice(l)*rates[c])} ${c}`; document.getElementById('btn').disabled=l>=maxL; }
function recalcGlobalIPH(prevI,newI){ const total=(parseFloat(localStorage.getItem(IPH_K))||0)-prevI+newI; localStorage.setItem(IPH_K,String(Math.max(0,total))); }
document.getElementById('btn').onclick=()=>{ let l=getInt(K.lvl); if(l>=maxL)return; const price=nextPrice(l), bal=getRub(BAL_K); if(bal<price){ const c=cur(); alert(`–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤: –Ω—É–∂–Ω–æ ${fmt2(price*rates[c])} ${c}`); return; } setRub(BAL_K,bal-price); setRub(K.inv,getRub(K.inv)+price); const prevI=iphOf(l); l++; setInt(K.lvl,l); const nowI=iphOf(l); setRub(K.iph,nowI); recalcGlobalIPH(prevI,nowI); refreshBars(); refreshCard(); };
const modalBack=document.getElementById('modalBack'); document.getElementById('gearBtn').onclick=openModal; document.getElementById('closeModalBtn').onclick=()=>modalBack.style.display='none';
function openModal(){ const name=localStorage.getItem(K.name)||'–ö—Ä—É–ø–Ω–∞—è —Å–µ—Ç—å'; const invested=getRub(K.inv), iph=getRub(K.iph), earned=getRub(K.earned), c=cur();
  document.getElementById('m_name').textContent=name; document.getElementById('m_earned').textContent=`${fmt2(earned*rates[c])} ${c}`; document.getElementById('m_invested').textContent=`${fmt2(invested*rates[c])} ${c}`; document.getElementById('m_iph').textContent=`${fmt2(iph*rates[c])} ${c}/—á`; document.getElementById('m_fore1').textContent=`${fmt2(iph*rates[c])} ${c}`; document.getElementById('m_fore24').textContent=`${fmt2(iph*24*rates[c])} ${c}`; document.getElementById('m_roi').textContent=iph>0?`${fmt2(invested/iph)} —á`:'‚Äî'; modalBack.style.display='flex'; }
document.getElementById('closeNetBtn').onclick=()=>{ const invested=getRub(K.inv), payout=Math.floor(invested*0.30); const c=cur(); if(!confirm(`–í–µ—Ä–Ω—É—Ç—å 30% –∫–∞–ø–∏—Ç–∞–ª–∏–∑–∞—Ü–∏–∏: ${fmt2(payout*rates[c])} ${c}?`)) return;
  setRub(BAL_K,getRub(BAL_K)+payout); const prevI=getRub(K.iph); recalcGlobalIPH(prevI,0); setInt(K.lvl,0); setRub(K.iph,0); setRub(K.inv,0); modalBack.style.display='none'; alert('–°–µ—Ç—å –∑–∞–∫—Ä—ã—Ç–∞.'); location.replace('grocery-start.html'); };
(function init(){ refreshBars(); refreshCard(); setInterval(refreshBars,2000); })();
</script>
</body></html>
